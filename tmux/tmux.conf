# =============================================================================
# Tmux Configuration - Monokai Pro Classic Theme
# =============================================================================

# -----------------------------------------------------------------------------
# General Settings
# -----------------------------------------------------------------------------

# Use 256 colors and true color
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc,alacritty:Tc"

# Enable mouse support with proper scrolling
set -g mouse on

# Increase scrollback buffer
set -g history-limit 50000

# Faster key repetition
set -s escape-time 0

# Start window/pane numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Enable focus events
set -g focus-events on

# -----------------------------------------------------------------------------
# Mouse Scrolling - Natural Terminal Feel
# -----------------------------------------------------------------------------

# Scroll into copy-mode with mouse wheel
bind -n WheelUpPane if-shell -F "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e'"
bind -n WheelDownPane select-pane -t= \; send-keys -M

# Better mouse behavior in copy mode
bind -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"

# -----------------------------------------------------------------------------
# Key Bindings
# -----------------------------------------------------------------------------

# Prefix key (Ctrl+a instead of Ctrl+b)
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Split panes with | and -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Navigate panes with vim keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes with vim keys
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# New window in current path
bind c new-window -c "#{pane_current_path}"

# Vi mode for copy
setw -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"

# -----------------------------------------------------------------------------
# Monokai Pro Classic Theme
# -----------------------------------------------------------------------------

# Color definitions (matching Neovim/VSCode/JetBrains)
# Background:    #272822
# Foreground:    #fdfff1
# Selection:     #3b3c35
# Comment:       #6e7066
# Red:           #f92672
# Green:         #a6e22e
# Yellow:        #e6db74
# Orange:        #fd971f
# Purple:        #ae81ff
# Cyan:          #66d9ef

# Status bar position
set -g status-position bottom
set -g status-justify left

# Status bar colors
set -g status-style "bg=#272822,fg=#6e7066"

# Status bar length
set -g status-left-length 40
set -g status-right-length 80

# Left status: session name
set -g status-left "#[fg=#272822,bg=#6e7066,bold] #S #[fg=#6e7066,bg=#272822] "

# Right status: date and time
set -g status-right "#[fg=#3b3c35]#[fg=#6e7066,bg=#3b3c35] %Y-%m-%d #[fg=#6e7066,bg=#3b3c35]#[fg=#272822,bg=#6e7066,bold] %H:%M "

# Window status
setw -g window-status-format "#[fg=#6e7066,bg=#272822] #I:#W "
setw -g window-status-current-format "#[fg=#272822,bg=#3b3c35]#[fg=#fdfff1,bg=#3b3c35,bold] #I:#W #[fg=#3b3c35,bg=#272822]"

# Window status separator
setw -g window-status-separator ""

# Pane borders
set -g pane-border-style "fg=#3b3c35"
set -g pane-active-border-style "fg=#6e7066"

# Message style
set -g message-style "bg=#3b3c35,fg=#fdfff1"
set -g message-command-style "bg=#3b3c35,fg=#fdfff1"

# Mode style (copy mode, etc.)
setw -g mode-style "bg=#3b3c35,fg=#fdfff1"

# Clock mode
setw -g clock-mode-colour "#66d9ef"
setw -g clock-mode-style 24

# Bell
setw -g window-status-bell-style "bg=#f92672,fg=#272822,bold"

# Activity
setw -g window-status-activity-style "bg=#272822,fg=#e6db74"
set -g monitor-activity on
set -g visual-activity off

# -----------------------------------------------------------------------------
# Pane display
# -----------------------------------------------------------------------------

# Display pane numbers longer
set -g display-panes-time 2000

# Pane number colors
set -g display-panes-colour "#6e7066"
set -g display-panes-active-colour "#fdfff1"
